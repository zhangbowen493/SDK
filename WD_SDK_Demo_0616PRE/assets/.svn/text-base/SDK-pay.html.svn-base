<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>网页通过js调用同意支付平台SDK</title>
</head>
<body>
<h1 style="text-align: center">
    JS调用原生SDK发起支付
</h1>

<style type="text/css">
    .parentDiv{
        width: 90%;text-align: center;
    }
    .titleStyle{
        width: 25%;float: left;text-align: right;font-family: Consolas;
    }
    .textStyle{
        width:75%; float: right;height: 24px;
    }
    .contentStyle{
        width:80%;height: 100%;
    }

</style>

<form name="messageForm">

    <div class="parentDiv">

        <div class="titleStyle">appid:</div>
        <div class="textStyle">
            <input type="text"  id="appid" value="wd2015tst001" class="contentStyle">
        </div>
        <br>
        <br>
                <div class="titleStyle">appkey:</div>
        <div class="textStyle">
            <input type="text" id="appkey" value="6XtC7H8NuykaRv423hrf1gGS09FEZQoB" class="contentStyle">
        </div>
        <br>
        <br>
        <div class="titleStyle">submerno:</div>
        <div class="textStyle">
            <input type="text" id="subnum" value="wdtstsub00002" class="contentStyle">
        </div>
        <br>
        <br>
        <div class="titleStyle">金额(分):</div>
        <div class="textStyle">
            <input type="text" id="appkey" value="6XtC7H8NuykaRv423hrf1gGS09FEZQoB" class="contentStyle">
        </div>
        <br>
        <br>
        <div class="titleStyle">商品名称:</div>
        <div class="textStyle">
            <input type="text" id="subject" class="contentStyle">
        </div>
        <br>
        <br>

        <div class="titleStyle">商品描述:</div>
        <div class="textStyle">
            <input type="text" id="body" class="contentStyle">
        </div>
        <br>
        <br>
        <div class="titleStyle">订单描述:</div>
        <div class="textStyle">
            <input type="text" id="description" class="contentStyle">
        </div>
        <br>
        <br>
        <div class="titleStyle">订单号:</div>
        <div class="textStyle">
            <input type="text" id="orderNo" class="contentStyle">
        </div>
        <br>
        <br>
        <br>
        <div style="width: 100%;">
            <button type="button" onclick="">点击生成订单号</button><br>
        </div>
        <br>
        <br>
        <div class="titleStyle">选择支付方式:</div>
        <div class="textStyle">
            <select id="channel" class="contentStyle">
                <option value="alipay">支付宝</option>
                <option value="weixin">微信支付</option>
                <option value="wdepay">链支付</option>
                <option value="uppay">银联</option>
            </select>
        </div>
        <br>
        <br>



    </div>


</form>
<br>
<div style="width: 90%;text-align: center">
    <button type="button" onclick="javascript:sendInfoToJava()">点击发起支付</button>
</div>

<hr/>
<h1>
    原生SDK返回数据
</h1>
<form name="returnMessageForm">

    resultCode:<p id="resultCode">resultCode</p>
    <br>
    resultMessage:<p id="resultMessage">resultMessage</p>
</form>

<script >
    function sendInfoToJava(){
//        //调用android程序中的方法，并传递参数
//        var name = document.getElementById("name_input").value;
//        window.AndroidWebView.showInfoFromJs(name);
//        test.showInfoFromJs(name);

        var appid = document.getElementById("appid").getAttribute("value");
        var appkey = document.getElementById("appkey").getAttribute("value");
        var subnum = document.getElementById("subnum").getAttribute("value");
        var subject = document.getElementById("subject").getAttribute("value");
        var body = document.getElementById("body").getAttribute("value");
        var description = document.getElementById("description").getAttribute("value");
        var orderNo = document.getElementById("orderNo").getAttribute("value");
        var selectIndex = document.getElementById("channel").selectedIndex;
        var formObject = document.getElementById("channel");
        var channel = formObject.options[selectIndex].value;
var info = "appid = "+appid
        +" appkey = "+appkey
        +" subnum = "+subnum
        +" subject = "+subject
        +" body = "+body
        +" description = "+description
        +" orderNo = "+orderNo
        +" channel = "+channel;
        console.log('变量：方法被调用');
        //调用android本地方法
        blin.CallAndroid(info );
    }


    //这边定义一个名称为callJavaScript（info）并且带一参的方法，等待Android调用
    function callJavaScript(info){
        document.getElementById("resultMessage").innerHTML=info;
    }

</script>

</body>
</html>
